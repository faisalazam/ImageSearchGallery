<html ng-app="imageGalleryApp">
    <head>
        <link rel="stylesheet" type="text/css" href="../../../assets/css/pagination.css"/>
        <link rel="stylesheet" type="text/css" href="../../../assets/css/imageGalleryApp.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
        <script src="imageGalleryController.js"></script>
        <script src="flickrImageSearchService.js"></script>
        <script src="imageSearchServiceFactory.js"></script>
        <script src="imageGalleryAppDirectives.js"></script>
    </head>
    <body>
        <div class="wrap" ng-controller="ImageGalleryController">
            <div class="page-title">Flickr Image Search</div>
            <div class="search-criteria-container">
                <label>Search:</label>
                <input type="text" ng-model="searchCriteria.tags" ng-change="searchImages()"
                       placeholder="Enter tags separated by comma" autofocus>
                <input type="radio" ng-model="searchCriteria.mode" ng-change="searchImages()" value="any"/>Any Tags
                <input type="radio" ng-model="searchCriteria.mode" ng-change="searchImages()" value="all" ng-value="all"/>All
                Tags
            </div>
            <div class="thumbnails-section">
                <div class="thumbnail-with-meta-data float-left"
                     ng-repeat="image in images | pagination: currentPageIndex * pageSize | limitTo: pageSize"
                >
                    <div class="relative-top-left-corner">
                        <img class="thumbnail" ng-src="{{image.lowResolutionLink}}" ng-attr-title="{{image.title}}"
                             ng-mouseenter="mouseOverOnImage($index)" imageonload="setIsThumbnailImageLoaded()">
                        <!--<div class="thumbnail-spinner-container" ng-show="!isThumbnailLoaded()">-->
                            <!--<img class="thumbnail-spinner" ng-src="{{getLoadingImageSource()}}">-->
                        <!--</div>-->
                    </div>
                    <div class="title">
                        <a href="{{image.link}}" ng-attr-title="{{image.title}}">{{image.title}}</a>
                    </div>
                    <div class="author">
                        <a href="{{image.albumLink}}" ng-attr-title="{{image.author}}">by
                            {{image.author}}</a>
                    </div>
                    <div class="tags" ng-attr-title="{{image.tags}}">tags: {{image.tags}}</div>
                </div>

                <div class="pagination-container" ng-show="numberOfImages > pageSize">
                    <ul class="pagination">
                        <li>
                            <button type="button" ng-disabled="canNavigateToFirstPage()" ng-click="navigateToFirstPage()"> &lt;&lt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToPreviousPage()" ng-click="navigateToPreviousPage()">&lt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToNextPage()" ng-click="navigateToNextPage()"> &gt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToLastPage()" ng-click="navigateToLastPage();">&gt;&gt;</button>
                        </li>
                    </ul>
                    <span>Page {{currentPageIndex + 1}} of {{ numberOfPages }}</span>
                </div>
            </div>

            <div class="image-preview-section" ng-show="numberOfImages > 0">
                <div class="relative-top-left-corner">
                    <img class="image-preview" ng-src="{{getImageSource()}}" imageonload="setIsPreviewLoaded()">
                    <div class="image-preview spinner-container" ng-show="!isPreviewLoaded()">
                        <img class="spinner" ng-src="{{getLoadingImageSource()}}">
                    </div>
                </div>

                <div class="pagination-container">
                    <ul class="pagination">
                        <li>
                            <button type="button" ng-disabled="canNavigateToFirstImage()" ng-click="navigateToFirstImage()"> &lt;&lt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToPreviousImage()" ng-click="navigateToPreviousImage()">&lt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToNextImage()" ng-click="navigateToNextImage()">&gt;</button>
                        </li>
                        <li>
                            <button type="button" ng-disabled="canNavigateToLastImage()" ng-click="navigateToLastImage()"> &gt;&gt;</button>
                        </li>
                    </ul>
                    <span>Image {{currentImageIndex + 1}} of {{ numberOfImages }}</span>

                    <div class="resolution-radios">
                        <input type="radio" ng-model="resolution" value="HIGH"/>High-Resolution Preview
                        <input type="radio" ng-model="resolution" value="LOW" ng-value="LOW"/>Low-Resolution Preview
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>